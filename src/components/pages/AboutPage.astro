---
import JsonLd from '@/components/JsonLd.astro';
import HighlightCard from '@/components/pages/HighlightCard.astro';
import PageHero from '@/components/pages/PageHero.astro';
import PageSection from '@/components/pages/PageSection.astro';
import MainLayout from '@/layouts/MainLayout.astro';
import type { Language } from '@/lib/i18n';
import { getUrlPrefix } from '@/lib/i18n';
import { getTranslations } from '@/lib/translations';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const t = getTranslations(lang);
const prefix = getUrlPrefix(lang);

const personData = {
  '@context': 'https://schema.org',
  '@type': 'Person',
  name: 'Sergio Alexander Florez Galeano',
  alternateName: 'XergioAleX',
  url: Astro.site?.href,
  jobTitle: 'CTO & Cofounder at DailyBot',
  sameAs: [
    'https://github.com/xergioalex',
    'https://www.linkedin.com/in/xergioalex/',
    'https://x.com/XergioAleX',
    'https://www.instagram.com/xergioalex',
  ],
};
---

<MainLayout lang={lang} title={t.aboutPage.title} description={t.aboutPage.description}>
  <Fragment slot="head">
    <JsonLd data={personData} />
  </Fragment>

  <PageHero
    title={t.aboutPage.title}
    subtitle={t.aboutPage.subtitle}
    description={t.aboutPage.heroDescription}
    image="/images/profile.png"
  />

  <PageSection background="white" title={t.aboutPage.bioTitle} description={t.aboutPage.bioText} />

  <PageSection background="gray" title={t.aboutPage.passionsTitle}>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      {t.aboutPage.passions.map((passion) => (
        <HighlightCard
          title={passion.title}
          description={passion.description}
          icon={passion.icon}
          link={passion.link}
        />
      ))}
    </div>
  </PageSection>

  <PageSection background="white" title={t.aboutPage.quickFactsTitle}>
    <ul class="space-y-3 max-w-2xl">
      {t.aboutPage.quickFacts.map((fact) => (
        <li class="flex items-start gap-3 text-gray-700 dark:text-gray-300">
          <span class="text-secondary mt-0.5 flex-shrink-0">&#10003;</span>
          <span>{fact}</span>
        </li>
      ))}
    </ul>
  </PageSection>

  <PageSection
    background="gray"
    title={t.aboutPage.ctaTitle}
    description={t.aboutPage.ctaDescription}
  >
    <div class="flex flex-wrap gap-4 mt-4">
      <a
        href={`${prefix}/cv`}
        class="inline-flex items-center px-6 py-3 rounded-lg bg-secondary text-white font-semibold hover:bg-secondary/90 transition-colors duration-200"
      >
        {t.aboutPage.ctaCv}
      </a>
      <a
        href={`${prefix}/contact`}
        class="inline-flex items-center px-6 py-3 rounded-lg border-2 border-secondary text-secondary dark:text-secondary font-semibold hover:bg-secondary/10 transition-colors duration-200"
      >
        {t.aboutPage.ctaContact}
      </a>
    </div>
  </PageSection>
</MainLayout>
