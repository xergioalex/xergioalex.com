---
import StaticBlogSearch from '@/components/blog/StaticBlogSearch.svelte';
import type { BlogPostsResultType } from '@/lib/types';

export interface Props {
  blogPostsResult: BlogPostsResultType;
  currentTag?: string;
}
const { blogPostsResult, currentTag } = Astro.props;

// // Get all unique tags from all blog posts (more reliable than tags collection)
// const allPosts = await getCollection("blog");
// const tagsResult = Array.from(
//   new Set(allPosts.flatMap((post) => post.data.tags ?? [])),
// );
---

<StaticBlogSearch
  postsResult={blogPostsResult.postsResult}
  currentTag={currentTag}
  totalPages={blogPostsResult.totalPages}
  currentPage={blogPostsResult.currentPage}
  tagsResult={blogPostsResult.tagsResult}
  totalPostsAvailable={blogPostsResult.totalPostsAvailable}
  client:load
/>
