# Internationalization (i18n) Feature

## Overview

The website supports multiple languages using a folder-based routing approach:
- English (default): `/`
- Spanish: `/es/`

## Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    i18n Flow                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  Route Structure:                                            â”‚
â”‚  â”œâ”€â”€ / (English - default)                                  â”‚
â”‚  â”‚   â”œâ”€â”€ /blog                                              â”‚
â”‚  â”‚   â”œâ”€â”€ /about                                             â”‚
â”‚  â”‚   â””â”€â”€ /contact                                           â”‚
â”‚  â””â”€â”€ /es (Spanish)                                          â”‚
â”‚      â””â”€â”€ /es (homepage only currently)                      â”‚
â”‚                                                              â”‚
â”‚  Language Detection:                                         â”‚
â”‚  â””â”€â”€ Page â†’ lang prop â†’ Header/Footer â†’ Display            â”‚
â”‚                                                              â”‚
â”‚  Language Switching:                                         â”‚
â”‚  â””â”€â”€ Header dropdown â†’ Navigate to /{lang}/                 â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Current Implementation

### Supported Languages

| Code | Language | Base Path |
|------|----------|-----------|
| `en` | English | `/` |
| `es` | Spanish | `/es/` |

### Route Structure

```
pages/
â”œâ”€â”€ index.astro          # / (English)
â”œâ”€â”€ about.astro          # /about (English)
â”œâ”€â”€ contact.astro        # /contact (English)
â”œâ”€â”€ blog/                # /blog/* (English)
â””â”€â”€ es/
    â””â”€â”€ index.astro      # /es (Spanish)
```

## Components

| Component | Role |
|-----------|------|
| `MainLayout.astro` | Accepts `lang` prop, sets `<html lang>` |
| `Header.svelte` | Language switcher dropdown |
| `MobileMenu.svelte` | Mobile language switcher |

## Language Prop Flow

```astro
---
// Page sets language
const lang = 'en';
---

<MainLayout lang={lang} title="..." description="...">
  <!-- Content -->
</MainLayout>
```

Layout uses it:

```astro
---
const { lang, title, description } = Astro.props;
---

<html lang={lang}>
  <Header client:load {lang} />
  <!-- ... -->
</html>
```

## Language Switcher

In `Header.svelte`:

```svelte
<div class="relative group">
  <button>
    {#if lang === "es"}
      ğŸ‡ªğŸ‡¸ ES
    {:else}
      ğŸ‡¬ğŸ‡§ EN
    {/if}
  </button>
  
  {#if languageOpen}
    <div class="dropdown">
      {#if lang === "es"}
        <a href="/">ğŸ‡¬ğŸ‡§ EN</a>
      {:else}
        <a href="/es">ğŸ‡ªğŸ‡¸ ES</a>
      {/if}
    </div>
  {/if}
</div>
```

## Adding a New Language

### 1. Create Language Folder

```bash
mkdir -p src/pages/fr
```

### 2. Create Pages

```astro
---
// src/pages/fr/index.astro
import MainLayout from '@/layouts/MainLayout.astro';

const lang = 'fr';
---

<MainLayout lang={lang} title="Accueil" description="...">
  <!-- French content -->
</MainLayout>
```

### 3. Update Header

In `Header.svelte`, add the new language option:

```svelte
{#if lang === "es"}
  <a href="/">ğŸ‡¬ğŸ‡§ EN</a>
  <a href="/fr">ğŸ‡«ğŸ‡· FR</a>
{:else if lang === "fr"}
  <a href="/">ğŸ‡¬ğŸ‡§ EN</a>
  <a href="/es">ğŸ‡ªğŸ‡¸ ES</a>
{:else}
  <a href="/es">ğŸ‡ªğŸ‡¸ ES</a>
  <a href="/fr">ğŸ‡«ğŸ‡· FR</a>
{/if}
```

## Future Improvements

### Content Collections i18n

For translated blog posts:

```
content/
â”œâ”€â”€ blog/
â”‚   â”œâ”€â”€ en/
â”‚   â”‚   â””â”€â”€ my-post.md
â”‚   â””â”€â”€ es/
â”‚       â””â”€â”€ my-post.md
```

### UI Strings Translation

Consider adding a translation file:

```typescript
// src/lib/i18n.ts
const translations = {
  en: {
    home: 'Home',
    blog: 'Blog',
    about: 'About',
    contact: 'Contact',
  },
  es: {
    home: 'Inicio',
    blog: 'Blog',
    about: 'Acerca de',
    contact: 'Contacto',
  },
};

export function t(key: string, lang: string): string {
  return translations[lang]?.[key] || translations['en'][key];
}
```

### Astro i18n Integration

For more robust i18n, consider:
- `@astrojs/i18n` (when available)
- `astro-i18next`
- `paraglide-js`

## Best Practices

1. **Always pass `lang` prop** through component chain
2. **Set `<html lang>`** correctly for accessibility
3. **Keep URL structure consistent** across languages
4. **Don't mix languages** within a page
5. **Provide language switcher** on all pages

## Related Documentation

- [Layout Documentation](../../src/layouts/README.md)
- [Header Component](../../src/components/layout/README.md)
- [i18n Guide](../I18N_GUIDE.md)
