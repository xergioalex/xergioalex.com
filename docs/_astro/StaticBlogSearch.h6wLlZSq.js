import{p as M}from"./props.BYwaM6m8.js";import{z as ce,A as Ce,C as Ye,D as qe,F as Ae,u as A,G as Ge,h as K,H as Ue,l as o,I as Re,J as We,K as Xe,L as Se,M as me,N as be,O as ne,P as ze,Q as Je,R as Pe,S as Ke,U as ee,V as Ee,W as Me,m as X,X as Ie,Y as Ne,Z as fe,_ as Le,$ as Ze,a0 as ge,a1 as je,a2 as xe,a3 as He,a4 as $e,a5 as ea,a6 as aa,a7 as ta,a as ra,a8 as sa,a9 as Be,q as na,aa as la,ab as oa,ac as ia,ad as ua,ae as da,x as le,af as Qe,p as L,ag as Oe,g as I,j as C,k as H,r as T,t as U,ah as he,ai as z,d as w,v as oe,c as ve,f as Z,o as ca}from"./render.BYNjtQHu.js";import{i as V,s as j,a as Te,b as de,r as va}from"./props.xoKaIrVE.js";import{i as _e}from"./lifecycle.DTNBFYwF.js";function fa(t){ce===null&&Ce(),Ye&&ce.l!==null?_a(ce).m.push(t):qe(()=>{const a=A(t);if(typeof a=="function")return a})}function ga(t,a,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:a,bubbles:e,cancelable:r})}function ha(){const t=ce;return t===null&&Ce(),(a,e,r)=>{const s=t.s.$$events?.[a];if(s){const n=Ae(s)?s.slice():[s],i=ga(a,e,r);for(const c of n)c.call(t.x,i);return!i.defaultPrevented}return!0}}function _a(t){var a=t.l;return a.u??={a:[],b:[],m:[]}}function ie(t,a){return a}function ma(t,a,e){for(var r=t.items,s=[],n=a.length,i=0;i<n;i++)ea(a[i].e,s,!0);var c=n>0&&s.length===0&&e!==null;if(c){var v=e.parentNode;aa(v),v.append(e),r.clear(),G(t,a[0].prev,a[n-1].next)}ta(s,()=>{for(var h=0;h<n;h++){var f=a[h];c||(r.delete(f.k),G(t,f.prev,f.next)),He(f.e,!c)}})}function ue(t,a,e,r,s,n=null){var i=t,c={flags:a,items:new Map,first:null},v=(a&Be)!==0;if(v){var h=t;i=K?me(sa(h)):h.appendChild(Me())}K&&Ue();var f=null,m=!1,b=new Map,P=Re(()=>{var y=e();return Ae(y)?y:y==null?[]:Ne(y)}),l,g;function d(){ba(g,l,c,b,i,s,a,r,e),n!==null&&(l.length===0?f?Le(f):f=Pe(()=>n(i)):f!==null&&Ze(f,()=>{f=null}))}Ge(()=>{g??=ra,l=o(P);var y=l.length;if(m&&y===0)return;m=y===0;let S=!1;if(K){var p=We(i)===Xe;p!==(y===0)&&(i=Se(),me(i),be(!1),S=!0)}if(K){for(var E=null,k,u=0;u<y;u++){if(ne.nodeType===ze&&ne.data===Je){i=ne,S=!0,be(!1);break}var _=l[u],D=r(_,u);k=ke(ne,c,E,null,_,D,u,s,a,e),c.items.set(D,k),E=k}y>0&&me(Se())}if(K)y===0&&n&&(f=Pe(()=>n(i)));else if(Ke()){var x=new Set,N=ee;for(u=0;u<y;u+=1){_=l[u],D=r(_,u);var B=c.items.get(D)??b.get(D);B?(a&(ge|fe))!==0&&Ve(B,_,u,a):(k=ke(null,c,null,null,_,D,u,s,a,e,!0),b.set(D,k)),x.add(D)}for(const[R,q]of c.items)x.has(R)||N.skipped_effects.add(q.e);N.add_callback(d)}else d();S&&be(!0),o(P)}),K&&(i=ne)}function ba(t,a,e,r,s,n,i,c,v){var h=(i&la)!==0,f=(i&(ge|fe))!==0,m=a.length,b=e.items,P=e.first,l=P,g,d=null,y,S=[],p=[],E,k,u,_;if(h)for(_=0;_<m;_+=1)E=a[_],k=c(E,_),u=b.get(k),u!==void 0&&(u.a?.measure(),(y??=new Set).add(u));for(_=0;_<m;_+=1){if(E=a[_],k=c(E,_),u=b.get(k),u===void 0){var D=r.get(k);if(D!==void 0){r.delete(k),b.set(k,D);var x=d?d.next:l;G(e,d,D),G(e,D,x),ye(D,x,s),d=D}else{var N=l?l.e.nodes_start:s;d=ke(N,e,d,d===null?e.first:d.next,E,k,_,n,i,v)}b.set(k,d),S=[],p=[],l=d.next;continue}if(f&&Ve(u,E,_,i),(u.e.f&xe)!==0&&(Le(u.e),h&&(u.a?.unfix(),(y??=new Set).delete(u))),u!==l){if(g!==void 0&&g.has(u)){if(S.length<p.length){var B=p[0],R;d=B.prev;var q=S[0],F=S[S.length-1];for(R=0;R<S.length;R+=1)ye(S[R],B,s);for(R=0;R<p.length;R+=1)g.delete(p[R]);G(e,q.prev,F.next),G(e,d,q),G(e,F,B),l=B,d=F,_-=1,S=[],p=[]}else g.delete(u),ye(u,l,s),G(e,u.prev,u.next),G(e,u,d===null?e.first:d.next),G(e,d,u),d=u;continue}for(S=[],p=[];l!==null&&l.k!==k;)(l.e.f&xe)===0&&(g??=new Set).add(l),p.push(l),l=l.next;if(l===null)continue;u=l}S.push(u),d=u,l=u.next}if(l!==null||g!==void 0){for(var Q=g===void 0?[]:Ne(g);l!==null;)(l.e.f&xe)===0&&Q.push(l),l=l.next;var J=Q.length;if(J>0){var ae=(i&Be)!==0&&m===0?s:null;if(h){for(_=0;_<J;_+=1)Q[_].a?.measure();for(_=0;_<J;_+=1)Q[_].a?.fix()}ma(e,Q,ae)}}h&&na(()=>{if(y!==void 0)for(u of y)u.a?.apply()}),t.first=e.first&&e.first.e,t.last=d&&d.e;for(var te of r.values())He(te.e);r.clear()}function Ve(t,a,e,r){(r&ge)!==0&&Ee(t.v,a),(r&fe)!==0?Ee(t.i,e):t.i=e}function ke(t,a,e,r,s,n,i,c,v,h,f){var m=(v&ge)!==0,b=(v&je)===0,P=m?b?X(s,!1,!1):Ie(s):s,l=(v&fe)===0?i:Ie(i),g={i:l,v:P,k:n,a:null,e:null,prev:e,next:r};try{if(t===null){var d=document.createDocumentFragment();d.append(t=Me())}return g.e=Pe(()=>c(t,P,l,h),K),g.e.prev=e&&e.e,g.e.next=r&&r.e,e===null?f||(a.first=g):(e.next=g,e.e.next=g.e),r!==null&&(r.prev=g,r.e.prev=g.e),g}finally{}}function ye(t,a,e){for(var r=t.next?t.next.e.nodes_start:e,s=a?a.e.nodes_start:e,n=t.e.nodes_start;n!==null&&n!==r;){var i=$e(n);s.before(n),n=i}}function G(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function xa(t,a,e=a){var r=new WeakSet;oa(t,"input",async s=>{var n=s?t.defaultValue:t.value;if(n=pe(t)?we(n):n,e(n),ee!==null&&r.add(ee),await ia(),n!==(n=a())){var i=t.selectionStart,c=t.selectionEnd;t.value=n??"",c!==null&&(t.selectionStart=i,t.selectionEnd=Math.min(c,t.value.length))}}),(K&&t.defaultValue!==t.value||A(a)==null&&t.value)&&(e(pe(t)?we(t.value):t.value),ee!==null&&r.add(ee)),ua(()=>{var s=a();if(t===document.activeElement){var n=da??ee;if(r.has(n))return}pe(t)&&s===we(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function pe(t){var a=t.type;return a==="number"||a==="range"}function we(t){return t===""?null:+t}var ya=I('<img class="w-full h-48 object-cover"/>'),pa=I('<a class="text-xs px-2 py-0.5 rounded bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800 transition-colors"> </a>'),wa=I('<div class="flex gap-1"></div>'),Pa=I('<article class="article-card bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"><!> <div class="p-6"><h2 class="text-xl font-bold mb-2 text-gray-900 dark:text-white"><a class="hover:text-blue-600 dark:hover:text-blue-400"> </a></h2> <p class="text-gray-600 dark:text-gray-300 mb-4"> </p> <div class="flex justify-between items-center"><time class="text-sm text-gray-500 dark:text-gray-400"> </time> <!></div></div></article>');function Fe(t,a){le(a,!1);const e=X();let r=M(a,"post",8);function s(){return r().data?{title:r().data.title,description:r().data.description,pubDate:r().data.pubDate,tags:r().data.tags||[],heroImage:r().data.heroImage}:{title:r().title,description:r().description,pubDate:new Date(r().pubDate),tags:r().tags||[],heroImage:r().heroImage}}Qe(()=>{},()=>{L(e,s())}),Oe(),_e();var n=Pa(),i=C(n);{var c=p=>{var E=ya();U(()=>{j(E,"src",(o(e),A(()=>o(e).heroImage))),j(E,"alt",(o(e),A(()=>o(e).title)))}),w(p,E)};V(i,p=>{o(e),A(()=>o(e).heroImage)&&p(c)})}var v=H(i,2),h=C(v),f=C(h),m=C(f,!0);T(f),T(h);var b=H(h,2),P=C(b,!0);T(b);var l=H(b,2),g=C(l),d=C(g,!0);T(g);var y=H(g,2);{var S=p=>{var E=wa();ue(E,5,()=>(o(e),A(()=>o(e).tags)),ie,(k,u)=>{var _=pa(),D=C(_);T(_),U(()=>{j(_,"href",`/blog/tag/${o(u)}/`),z(D,`#${o(u)??""}`)}),w(k,_)}),T(E),w(p,E)};V(y,p=>{o(e),A(()=>o(e).tags&&o(e).tags.length>0)&&p(S)})}T(l),T(v),T(n),U(p=>{j(f,"href",(he(r()),A(()=>`/blog/${r().id||r().slug}/`))),z(m,(o(e),A(()=>o(e).title))),z(P,(o(e),A(()=>o(e).description))),z(d,p)},[()=>(o(e),A(()=>o(e).pubDate.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})))]),w(t,n),oe()}var Ta=I('<a class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700">Anterior</a>'),ka=I("<a> </a>"),Sa=I('<a class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700">Siguiente</a>'),Ea=I('<div class="mt-12 flex justify-center"><nav class="flex items-center space-x-2"><!> <!> <!></nav></div>');function De(t,a){let e=M(a,"currentPage",8,1),r=M(a,"totalPages",8,1);var s=ve(),n=Z(s);{var i=c=>{var v=Ea(),h=C(v),f=C(h);{var m=g=>{var d=Ta();U(()=>j(d,"href",e()===2?"/blog/":`/blog/page/${e()-1}/`)),w(g,d)};V(f,g=>{e()>1&&g(m)})}var b=H(f,2);ue(b,1,()=>(he(r()),A(()=>Array.from({length:r()},(g,d)=>d+1))),ie,(g,d)=>{var y=ka(),S=C(y,!0);T(y),U(()=>{j(y,"href",o(d)===1?"/blog/":`/blog/page/${o(d)}/`),Te(y,1,`px-3 py-2 text-sm font-medium rounded-md ${o(d)===e()?"bg-blue-500 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700"}`),z(S,o(d))}),w(g,y)});var P=H(b,2);{var l=g=>{var d=Sa();U(()=>j(d,"href",`/blog/page/${e()+1}/`)),w(g,d)};V(P,g=>{e()<r()&&g(l)})}T(h),T(v),w(c,v)};V(n,c=>{r()>1&&c(i)})}w(t,s)}var Ia=I('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> <!>',1);function Da(t,a){le(a,!1);let e=M(a,"posts",8);const r=!1,s=1,n=1,i=void 0;var c=Ia(),v=Z(c);ue(v,5,e,ie,(f,m)=>{Fe(f,{get post(){return o(m)}})}),T(v);var h=H(v,2);return V(h,f=>{}),w(t,c),de(a,"showPagination",r),de(a,"currentPage",s),de(a,"totalPages",n),de(a,"currentTag",i),oe({showPagination:r,currentPage:s,totalPages:n,currentTag:i})}var Ca=I("<a> </a>"),Aa=I('<h1 class="text-4xl font-extrabold mb-6"> </h1> <div class="mb-8 flex flex-wrap gap-2"><a href="/blog/">Todos los artículos</a> <!></div>',1);function Ra(t,a){let e=M(a,"currentTag",8),r=M(a,"tagsResult",8);var s=Aa(),n=Z(s),i=C(n,!0);T(n);var c=H(n,2),v=C(c),h=H(v,2);ue(h,1,r,ie,(f,m)=>{var b=Ca(),P=C(b);T(b),U(()=>{j(b,"href",`/blog/tag/${o(m)}/`),Te(b,1,`text-xs px-2 py-0.5 rounded font-semibold ${e()===o(m)?"bg-blue-500 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`),z(P,`#${o(m)??""}`)}),w(f,b)}),T(c),U(()=>{z(i,e()?`Artículos con tag: ${e()}`:"Artículos, Tutoriales & Historias"),Te(v,1,`text-xs px-2 py-0.5 rounded font-semibold ${e()?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-blue-500 text-white"}`)}),w(t,s)}var Ma=I('<div class="mt-2 text-sm text-gray-600"> </div>'),Na=I('<div class="mb-10"><input type="text" placeholder="Buscar artículos..." class="w-full md:w-1/2 px-4 py-2 rounded border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"/> <!></div>');function La(t,a){le(a,!1);let e=M(a,"searchQuery",12),r=M(a,"isSearching",8),s=M(a,"resultsCount",8);const n=ha();function i(m){n("search",m.target.value)}_e();var c=Na(),v=C(c);va(v);var h=H(v,2);{var f=m=>{var b=Ma(),P=C(b);T(b),U(()=>z(P,`${s()??""} resultado${s()!==1?"s":""} encontrado${s()!==1?"s":""}`)),w(m,b)};V(h,m=>{r()&&m(f)})}T(c),xa(v,e),ca("input",v,i),w(t,c),oe()}var Ha=I('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Ba=I('<div class="text-center py-12"><p class="text-gray-500 dark:text-gray-400 text-lg"> </p></div>');function Qa(t,a){le(a,!1);let e=M(a,"filteredPosts",24,()=>[]),r=M(a,"searchQuery",8);_e();var s=ve(),n=Z(s);{var i=v=>{var h=Ha();ue(h,5,e,ie,(f,m)=>{Fe(f,{get post(){return o(m)}})}),T(h),w(v,h)},c=v=>{var h=Ba(),f=C(h),m=C(f);T(f),T(h),U(()=>z(m,`No se encontraron artículos que coincidan con "${r()??""}"`)),w(v,h)};V(n,v=>{he(e()),A(()=>e()&&e().length>0)?v(i):v(c,!1)})}w(t,s),oe()}var Oa=I('<div class="text-center py-12"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div> <p class="mt-2 text-gray-500">Cargando índice de búsqueda...</p></div>'),Va=I('<div class="text-center py-12"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div> <p class="mt-2 text-gray-500">Buscando artículos...</p></div>'),Fa=I("<!> <!>",1),Ya=I("<!> <!>",1),qa=I('<div class="main-container py-24"><!> <!> <!></div>');function za(t,a){le(a,!1);const e=X();let r=M(a,"postsResult",8),s=M(a,"currentTag",8),n=M(a,"totalPages",8),i=M(a,"currentPage",8),c=M(a,"tagsResult",24,()=>[]),v=X(""),h=X([]),f=X(!1),m=X(!1),b=X(!1),P=[],l=X({currentPage:1,totalPages:1,totalPosts:0}),g;async function d(){if(!o(b)){L(b,!0);try{const x=await fetch("/api/posts.json");x.ok?P=await x.json():console.error("❌ Failed to load search index:",x.status)}catch(x){console.error("❌ Failed to load search index:",x)}finally{L(b,!1)}}}function y(x,N=1){if(!x.trim()){L(f,!1),L(h,[]);return}if(!P||P.length===0){console.warn("Search index not loaded yet"),L(m,!1);return}L(m,!0),L(f,!0),setTimeout(()=>{const B=x.toLowerCase(),R=P.filter(O=>{const W=O.title.toLowerCase(),$=O.description.toLowerCase(),re=O.tags.join(" ").toLowerCase(),se=W.includes(B)||$.includes(B)||re.includes(B),Y=!s()||O.tags.includes(s());return se&&Y});R.sort((O,W)=>new Date(W.pubDate).getTime()-new Date(O.pubDate).getTime());const q=12,F=R.length,Q=Math.ceil(F/q),J=(N-1)*q,ae=J+q,te=R.slice(J,ae);L(h,te),L(l,{currentPage:N,totalPages:Q,hasNextPage:N<Q,hasPrevPage:N>1}),L(m,!1)},100)}function S(x){L(v,x),g&&clearTimeout(g),g=setTimeout(()=>{!P||P.length===0?d().then(()=>{y(x,1)}):y(x,1)},300)}fa(()=>{d()}),Qe(()=>he(c()),()=>{L(e,c().map(x=>x.data.name))}),Oe(),_e();var p=qa(),E=C(p);Ra(E,{get currentTag(){return s()},get tagsResult(){return o(e)}});var k=H(E,2);La(k,{get isSearching(){return o(f)},get resultsCount(){return o(l),A(()=>o(l).totalPosts)},get searchQuery(){return o(v)},set searchQuery(x){L(v,x)},$$events:{search:x=>S(x.detail)},$$legacy:!0});var u=H(k,2);{var _=x=>{var N=Oa();w(x,N)},D=x=>{var N=ve(),B=Z(N);{var R=F=>{var Q=Va();w(F,Q)},q=F=>{var Q=ve(),J=Z(Q);{var ae=O=>{var W=Fa(),$=Z(W);Qa($,{get filteredPosts(){return o(h)},get searchQuery(){return o(v)}});var re=H($,2);{var se=Y=>{De(Y,{get currentPage(){return o(l),A(()=>o(l).currentPage)},get totalPages(){return o(l),A(()=>o(l).totalPages)}})};V(re,Y=>{o(l),A(()=>o(l).totalPages>1)&&Y(se)})}w(O,W)},te=O=>{var W=Ya(),$=Z(W);{let Y=Re(()=>n()>1);Da($,{get posts(){return r()},get showPagination(){return o(Y)},get currentPage(){return i()},get totalPages(){return n()},get currentTag(){return s()}})}var re=H($,2);{var se=Y=>{De(Y,{get currentPage(){return i()},get totalPages(){return n()}})};V(re,Y=>{n()>1&&Y(se)})}w(O,W)};V(J,O=>{o(f)?O(ae):O(te,!1)},!0)}w(F,Q)};V(B,F=>{o(m)?F(R):F(q,!1)},!0)}w(x,N)};V(u,x=>{o(b)?x(_):x(D,!1)})}T(p),w(t,p),oe()}export{za as default};
