import{p as L}from"./props.BYwaM6m8.js";import{z as de,A as De,C as Fe,D as Ye,F as Ce,u as C,G as qe,h as J,H as Ge,l,I as Ae,J as Ue,K as We,L as ke,M as _e,N as me,O as se,P as Xe,Q as ze,R as we,S as Je,U as ee,V as Se,W as Me,m as X,X as Ee,Y as Ne,Z as ve,_ as Le,$ as Ke,a0 as fe,a1 as Ze,a2 as be,a3 as Re,a4 as je,a5 as $e,a6 as ea,a7 as aa,a as ta,a8 as ra,a9 as He,q as sa,aa as na,ab as la,ac as oa,ad as ia,ae as ua,x as ne,af as Be,p as R,ag as Qe,g as I,j as D,k as H,r as k,t as U,ah as ge,ai as z,d as w,v as le,c as ce,f as K,o as da}from"./render.BYNjtQHu.js";import{i as O,s as Z,a as Pe,b as ue,r as ca}from"./props.xoKaIrVE.js";import{i as he}from"./lifecycle.DTNBFYwF.js";function va(t){de===null&&De(),Fe&&de.l!==null?ha(de).m.push(t):Ye(()=>{const a=C(t);if(typeof a=="function")return a})}function fa(t,a,{bubbles:e=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:a,bubbles:e,cancelable:r})}function ga(){const t=de;return t===null&&De(),(a,e,r)=>{const s=t.s.$$events?.[a];if(s){const n=Ce(s)?s.slice():[s],o=fa(a,e,r);for(const u of n)u.call(t.x,o);return!o.defaultPrevented}return!0}}function ha(t){var a=t.l;return a.u??={a:[],b:[],m:[]}}function oe(t,a){return a}function _a(t,a,e){for(var r=t.items,s=[],n=a.length,o=0;o<n;o++)$e(a[o].e,s,!0);var u=n>0&&s.length===0&&e!==null;if(u){var f=e.parentNode;ea(f),f.append(e),r.clear(),G(t,a[0].prev,a[n-1].next)}aa(s,()=>{for(var h=0;h<n;h++){var g=a[h];u||(r.delete(g.k),G(t,g.prev,g.next)),Re(g.e,!u)}})}function ie(t,a,e,r,s,n=null){var o=t,u={flags:a,items:new Map,first:null},f=(a&He)!==0;if(f){var h=t;o=J?_e(ra(h)):h.appendChild(Me())}J&&Ge();var g=null,x=!1,b=new Map,p=Ae(()=>{var y=e();return Ce(y)?y:y==null?[]:Ne(y)}),v,_;function d(){ma(_,v,u,b,o,s,a,r,e),n!==null&&(v.length===0?g?Le(g):g=we(()=>n(o)):g!==null&&Ke(g,()=>{g=null}))}qe(()=>{_??=ta,v=l(p);var y=v.length;if(x&&y===0)return;x=y===0;let T=!1;if(J){var P=Ue(o)===We;P!==(y===0)&&(o=ke(),_e(o),me(!1),T=!0)}if(J){for(var S=null,E,i=0;i<y;i++){if(se.nodeType===Xe&&se.data===ze){o=se,T=!0,me(!1);break}var m=v[i],c=r(m,i);E=Te(se,u,S,null,m,c,i,s,a,e),u.items.set(c,E),S=E}y>0&&_e(ke())}if(J)y===0&&n&&(g=we(()=>n(o)));else if(Je()){var M=new Set,Y=ee;for(i=0;i<y;i+=1){m=v[i],c=r(m,i);var B=u.items.get(c)??b.get(c);B?(a&(fe|ve))!==0&&Oe(B,m,i,a):(E=Te(null,u,null,null,m,c,i,s,a,e,!0),b.set(c,E)),M.add(c)}for(const[A,Q]of u.items)M.has(A)||Y.skipped_effects.add(Q.e);Y.add_callback(d)}else d();T&&me(!0),l(p)}),J&&(o=se)}function ma(t,a,e,r,s,n,o,u,f){var h=(o&na)!==0,g=(o&(fe|ve))!==0,x=a.length,b=e.items,p=e.first,v=p,_,d=null,y,T=[],P=[],S,E,i,m;if(h)for(m=0;m<x;m+=1)S=a[m],E=u(S,m),i=b.get(E),i!==void 0&&(i.a?.measure(),(y??=new Set).add(i));for(m=0;m<x;m+=1){if(S=a[m],E=u(S,m),i=b.get(E),i===void 0){var c=r.get(E);if(c!==void 0){r.delete(E),b.set(E,c);var M=d?d.next:v;G(e,d,c),G(e,c,M),xe(c,M,s),d=c}else{var Y=v?v.e.nodes_start:s;d=Te(Y,e,d,d===null?e.first:d.next,S,E,m,n,o,f)}b.set(E,d),T=[],P=[],v=d.next;continue}if(g&&Oe(i,S,m,o),(i.e.f&be)!==0&&(Le(i.e),h&&(i.a?.unfix(),(y??=new Set).delete(i))),i!==v){if(_!==void 0&&_.has(i)){if(T.length<P.length){var B=P[0],A;d=B.prev;var Q=T[0],V=T[T.length-1];for(A=0;A<T.length;A+=1)xe(T[A],B,s);for(A=0;A<P.length;A+=1)_.delete(P[A]);G(e,Q.prev,V.next),G(e,d,Q),G(e,V,B),v=B,d=V,m-=1,T=[],P=[]}else _.delete(i),xe(i,v,s),G(e,i.prev,i.next),G(e,i,d===null?e.first:d.next),G(e,d,i),d=i;continue}for(T=[],P=[];v!==null&&v.k!==E;)(v.e.f&be)===0&&(_??=new Set).add(v),P.push(v),v=v.next;if(v===null)continue;i=v}T.push(i),d=i,v=i.next}if(v!==null||_!==void 0){for(var q=_===void 0?[]:Ne(_);v!==null;)(v.e.f&be)===0&&q.push(v),v=v.next;var j=q.length;if(j>0){var ae=(o&He)!==0&&x===0?s:null;if(h){for(m=0;m<j;m+=1)q[m].a?.measure();for(m=0;m<j;m+=1)q[m].a?.fix()}_a(e,q,ae)}}h&&sa(()=>{if(y!==void 0)for(i of y)i.a?.apply()}),t.first=e.first&&e.first.e,t.last=d&&d.e;for(var N of r.values())Re(N.e);r.clear()}function Oe(t,a,e,r){(r&fe)!==0&&Se(t.v,a),(r&ve)!==0?Se(t.i,e):t.i=e}function Te(t,a,e,r,s,n,o,u,f,h,g){var x=(f&fe)!==0,b=(f&Ze)===0,p=x?b?X(s,!1,!1):Ee(s):s,v=(f&ve)===0?o:Ee(o),_={i:v,v:p,k:n,a:null,e:null,prev:e,next:r};try{if(t===null){var d=document.createDocumentFragment();d.append(t=Me())}return _.e=we(()=>u(t,p,v,h),J),_.e.prev=e&&e.e,_.e.next=r&&r.e,e===null?g||(a.first=_):(e.next=_,e.e.next=_.e),r!==null&&(r.prev=_,r.e.prev=_.e),_}finally{}}function xe(t,a,e){for(var r=t.next?t.next.e.nodes_start:e,s=a?a.e.nodes_start:e,n=t.e.nodes_start;n!==null&&n!==r;){var o=je(n);s.before(n),n=o}}function G(t,a,e){a===null?t.first=e:(a.next=e,a.e.next=e&&e.e),e!==null&&(e.prev=a,e.e.prev=a&&a.e)}function ba(t,a,e=a){var r=new WeakSet;la(t,"input",async s=>{var n=s?t.defaultValue:t.value;if(n=ye(t)?pe(n):n,e(n),ee!==null&&r.add(ee),await oa(),n!==(n=a())){var o=t.selectionStart,u=t.selectionEnd;t.value=n??"",u!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(u,t.value.length))}}),(J&&t.defaultValue!==t.value||C(a)==null&&t.value)&&(e(ye(t)?pe(t.value):t.value),ee!==null&&r.add(ee)),ia(()=>{var s=a();if(t===document.activeElement){var n=ua??ee;if(r.has(n))return}ye(t)&&s===pe(t.value)||t.type==="date"&&!s&&!t.value||s!==t.value&&(t.value=s??"")})}function ye(t){var a=t.type;return a==="number"||a==="range"}function pe(t){return t===""?null:+t}var xa=I('<img class="w-full h-48 object-cover"/>'),ya=I('<a class="text-xs px-2 py-0.5 rounded bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200 dark:hover:bg-blue-800 transition-colors"> </a>'),pa=I('<div class="flex gap-1"></div>'),wa=I('<article class="article-card bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow"><!> <div class="p-6"><h2 class="text-xl font-bold mb-2 text-gray-900 dark:text-white"><a class="hover:text-blue-600 dark:hover:text-blue-400"> </a></h2> <p class="text-gray-600 dark:text-gray-300 mb-4"> </p> <div class="flex justify-between items-center"><time class="text-sm text-gray-500 dark:text-gray-400"> </time> <!></div></div></article>');function Ve(t,a){ne(a,!1);const e=X();let r=L(a,"post",8);function s(){return r().data?{title:r().data.title,description:r().data.description,pubDate:r().data.pubDate,tags:r().data.tags||[],heroImage:r().data.heroImage}:{title:r().title,description:r().description,pubDate:new Date(r().pubDate),tags:r().tags||[],heroImage:r().heroImage}}Be(()=>{},()=>{R(e,s())}),Qe(),he();var n=wa(),o=D(n);{var u=P=>{var S=xa();U(()=>{Z(S,"src",(l(e),C(()=>l(e).heroImage))),Z(S,"alt",(l(e),C(()=>l(e).title)))}),w(P,S)};O(o,P=>{l(e),C(()=>l(e).heroImage)&&P(u)})}var f=H(o,2),h=D(f),g=D(h),x=D(g,!0);k(g),k(h);var b=H(h,2),p=D(b,!0);k(b);var v=H(b,2),_=D(v),d=D(_,!0);k(_);var y=H(_,2);{var T=P=>{var S=pa();ie(S,5,()=>(l(e),C(()=>l(e).tags)),oe,(E,i)=>{var m=ya(),c=D(m);k(m),U(()=>{Z(m,"href",`/blog/tag/${l(i)}/`),z(c,`#${l(i)??""}`)}),w(E,m)}),k(S),w(P,S)};O(y,P=>{l(e),C(()=>l(e).tags&&l(e).tags.length>0)&&P(T)})}k(v),k(f),k(n),U(P=>{Z(g,"href",(ge(r()),C(()=>`/blog/${r().id||r().slug}/`))),z(x,(l(e),C(()=>l(e).title))),z(p,(l(e),C(()=>l(e).description))),z(d,P)},[()=>(l(e),C(()=>l(e).pubDate.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})))]),w(t,n),le()}var Pa=I('<a class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700">Anterior</a>'),Ta=I("<a> </a>"),ka=I('<a class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700">Siguiente</a>'),Sa=I('<div class="mt-12 flex justify-center"><nav class="flex items-center space-x-2"><!> <!> <!></nav></div>');function Ie(t,a){let e=L(a,"currentPage",8,1),r=L(a,"totalPages",8,1);var s=ce(),n=K(s);{var o=u=>{var f=Sa(),h=D(f),g=D(h);{var x=_=>{var d=Pa();U(()=>Z(d,"href",e()===2?"/blog/":`/blog/page/${e()-1}/`)),w(_,d)};O(g,_=>{e()>1&&_(x)})}var b=H(g,2);ie(b,1,()=>(ge(r()),C(()=>Array.from({length:r()},(_,d)=>d+1))),oe,(_,d)=>{var y=Ta(),T=D(y,!0);k(y),U(()=>{Z(y,"href",l(d)===1?"/blog/":`/blog/page/${l(d)}/`),Pe(y,1,`px-3 py-2 text-sm font-medium rounded-md ${l(d)===e()?"bg-blue-500 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400 dark:hover:bg-gray-700"}`),z(T,l(d))}),w(_,y)});var p=H(b,2);{var v=_=>{var d=ka();U(()=>Z(d,"href",`/blog/page/${e()+1}/`)),w(_,d)};O(p,_=>{e()<r()&&_(v)})}k(h),k(f),w(u,f)};O(n,u=>{r()>1&&u(o)})}w(t,s)}var Ea=I('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div> <!>',1);function Ia(t,a){ne(a,!1);let e=L(a,"posts",8);const r=!1,s=1,n=1,o=void 0;var u=Ea(),f=K(u);ie(f,5,e,oe,(g,x)=>{Ve(g,{get post(){return l(x)}})}),k(f);var h=H(f,2);return O(h,g=>{}),w(t,u),ue(a,"showPagination",r),ue(a,"currentPage",s),ue(a,"totalPages",n),ue(a,"currentTag",o),le({showPagination:r,currentPage:s,totalPages:n,currentTag:o})}var Da=I("<a> </a>"),Ca=I('<h1 class="text-4xl font-extrabold mb-6"> </h1> <div class="mb-8 flex flex-wrap gap-2"><a href="/blog/">Todos los artículos</a> <!></div>',1);function Aa(t,a){let e=L(a,"currentTag",8),r=L(a,"allTags",8);var s=Ca(),n=K(s),o=D(n,!0);k(n);var u=H(n,2),f=D(u),h=H(f,2);ie(h,1,r,oe,(g,x)=>{var b=Da(),p=D(b);k(b),U(()=>{Z(b,"href",`/blog/tag/${l(x)}/`),Pe(b,1,`text-xs px-2 py-0.5 rounded font-semibold ${e()===l(x)?"bg-blue-500 text-white":"bg-blue-100 text-blue-800 hover:bg-blue-200"}`),z(p,`#${l(x)??""}`)}),w(g,b)}),k(u),U(()=>{z(o,e()?`Artículos con tag: ${e()}`:"Artículos, Tutoriales & Historias"),Pe(f,1,`text-xs px-2 py-0.5 rounded font-semibold ${e()?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-blue-500 text-white"}`)}),w(t,s)}var Ma=I('<div class="mt-2 text-sm text-gray-600"> </div>'),Na=I('<div class="mb-10"><input type="text" placeholder="Buscar artículos..." class="w-full md:w-1/2 px-4 py-2 rounded border border-gray-300 dark:border-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition"/> <!></div>');function La(t,a){ne(a,!1);let e=L(a,"searchQuery",12),r=L(a,"isSearching",8),s=L(a,"resultsCount",8);const n=ga();function o(x){n("search",x.target.value)}he();var u=Na(),f=D(u);ca(f);var h=H(f,2);{var g=x=>{var b=Ma(),p=D(b);k(b),U(()=>z(p,`${s()??""} resultado${s()!==1?"s":""} encontrado${s()!==1?"s":""}`)),w(x,b)};O(h,x=>{r()&&x(g)})}k(u),ba(f,e),da("input",f,o),w(t,u),le()}var Ra=I('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>'),Ha=I('<div class="text-center py-12"><p class="text-gray-500 dark:text-gray-400 text-lg"> </p></div>');function Ba(t,a){ne(a,!1);let e=L(a,"filteredPosts",24,()=>[]),r=L(a,"searchQuery",8);he();var s=ce(),n=K(s);{var o=f=>{var h=Ra();ie(h,5,e,oe,(g,x)=>{Ve(g,{get post(){return l(x)}})}),k(h),w(f,h)},u=f=>{var h=Ha(),g=D(h),x=D(g);k(g),k(h),U(()=>z(x,`No se encontraron artículos que coincidan con "${r()??""}"`)),w(f,h)};O(n,f=>{ge(e()),C(()=>e()&&e().length>0)?f(o):f(u,!1)})}w(t,s),le()}var Qa=I('<div class="text-center py-12"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div> <p class="mt-2 text-gray-500">Cargando índice de búsqueda...</p></div>'),Oa=I('<div class="text-center py-12"><div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"></div> <p class="mt-2 text-gray-500">Buscando artículos...</p></div>'),Va=I("<!> <!>",1),Fa=I("<!> <!>",1),Ya=I('<div class="main-container py-24"><!> <!> <!></div>');function Xa(t,a){ne(a,!1);const e=X();let r=L(a,"postsResult",8),s=L(a,"currentTag",8),n=L(a,"totalPages",8),o=L(a,"currentPage",8),u=X(""),f=X([]),h=X(!1),g=X(!1),x=X(!1),b=[],p=X({currentPage:1,totalPages:1,totalPosts:0}),v;async function _(){if(!l(x)){R(x,!0);try{const c=await fetch("/api/posts.json");c.ok?b=await c.json():console.error("❌ Failed to load search index:",c.status)}catch(c){console.error("❌ Failed to load search index:",c)}finally{R(x,!1)}}}function d(c,M=1){if(!c.trim()){R(h,!1),R(f,[]);return}if(!b||b.length===0){console.warn("Search index not loaded yet"),R(g,!1);return}R(g,!0),R(h,!0),setTimeout(()=>{const Y=c.toLowerCase(),B=b.filter(N=>{const W=N.title.toLowerCase(),$=N.description.toLowerCase(),te=N.tags.join(" ").toLowerCase(),re=W.includes(Y)||$.includes(Y)||te.includes(Y),F=!s()||N.tags.includes(s());return re&&F});B.sort((N,W)=>new Date(W.pubDate).getTime()-new Date(N.pubDate).getTime());const A=12,Q=B.length,V=Math.ceil(Q/A),q=(M-1)*A,j=q+A,ae=B.slice(q,j);R(f,ae),R(p,{currentPage:M,totalPages:V,hasNextPage:M<V,hasPrevPage:M>1}),R(g,!1)},100)}function y(c){R(u,c),v&&clearTimeout(v),v=setTimeout(()=>{!b||b.length===0?_().then(()=>{d(c,1)}):d(c,1)},300)}va(()=>{_()}),Be(()=>ge(r()),()=>{R(e,Array.from(new Set(r().flatMap(c=>c.data.tags??[]))))}),Qe(),he();var T=Ya(),P=D(T);Aa(P,{get currentTag(){return s()},get allTags(){return l(e)}});var S=H(P,2);La(S,{get isSearching(){return l(h)},get resultsCount(){return l(p),C(()=>l(p).totalPosts)},get searchQuery(){return l(u)},set searchQuery(c){R(u,c)},$$events:{search:c=>y(c.detail)},$$legacy:!0});var E=H(S,2);{var i=c=>{var M=Qa();w(c,M)},m=c=>{var M=ce(),Y=K(M);{var B=Q=>{var V=Oa();w(Q,V)},A=Q=>{var V=ce(),q=K(V);{var j=N=>{var W=Va(),$=K(W);Ba($,{get filteredPosts(){return l(f)},get searchQuery(){return l(u)}});var te=H($,2);{var re=F=>{Ie(F,{get currentPage(){return l(p),C(()=>l(p).currentPage)},get totalPages(){return l(p),C(()=>l(p).totalPages)}})};O(te,F=>{l(p),C(()=>l(p).totalPages>1)&&F(re)})}w(N,W)},ae=N=>{var W=Fa(),$=K(W);{let F=Ae(()=>n()>1);Ia($,{get posts(){return r()},get showPagination(){return l(F)},get currentPage(){return o()},get totalPages(){return n()},get currentTag(){return s()}})}var te=H($,2);{var re=F=>{Ie(F,{get currentPage(){return o()},get totalPages(){return n()}})};O(te,F=>{n()>1&&F(re)})}w(N,W)};O(q,N=>{l(h)?N(j):N(ae,!1)},!0)}w(Q,V)};O(Y,Q=>{l(g)?Q(B):Q(A,!1)},!0)}w(c,M)};O(E,c=>{l(x)?c(i):c(m,!1)})}k(T),w(t,T),le()}export{Xa as default};
